{"createdAt":"2025-07-07T18:56:17.494Z","updatedAt":"2025-07-08T16:03:31.921Z","id":"TeduUfcCiv3Zd4Yi","name":"fetch/ohlcv/indices","active":false,"isArchived":false,"nodes":[{"parameters":{"content":"## Consignes\n\nFaites un workflow qui appelle fetch-data-ohlcv/indice et qui passe les inputs de l'indice (unique) à fetcher.\nCe workflow sera l'orchestrateur de la récupération des données. On pourrait imaginer utiliser un trigger periodique quotidien pour être toujours à jours sur les daily.\nPar la suite, on pourra utiliser un trigger \"on file change\" dans notre docker volume qui sera déclencher à chaque fois que ce workflow fait une sauvegarde.\n\n```json\n [\n  {\n    \"ticker\": \"SPY\",\n    \"ticker_type\": \"stock\"\n  },\n  {\n    \"ticker\": \"AGG\",\n    \"ticker_type\": \"stock\"\n  },\n  {\n    \"ticker\": \"GLD\",\n    \"ticker_type\": \"stock\"\n  },\n  {\n    \"ticker\": \"UUP\",\n    \"ticker_type\": \"stock\"\n  },\n  {\n    \"ticker\": \"BTC\",\n    \"ticker_type\": \"digital_currency\"\n  }\n ]\n```\n\n1. Utilisez un manual trigger pour le prototypage. A l'avenir on pourra le passer en \"On a schedule\" trigger pour mettre à jours nos données tous les matins par exemple\n\n2. Utilisez un set node pour créer l'Array de dict[ticker, ticker_type]\n\n3. Split l'array pour avoir plusieurs items à processer en parallèle","height":940,"width":740,"color":4},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-160,220],"id":"ede58ed7-1ddc-4876-9019-2ea4aa2eb1b3","name":"Sticky Note4"},{"parameters":{"content":"## Astuces\n\n1. Ici il faut être prudent: Dès que votre premier appel API a fonctionné --> Pinner les data pour ne pas consommer vos 50 requêtes\n2. Pour les plus à l'aise, n'hésite pas à fouiner internet pour trouver des indicateurs, ou des stratégies d'investissement. Par exemple, on pourrait aussi fetcher des données macro économiques.\nGardez en tête que toute ces données seront données à des IA analystes en vu de générer des BUY / SELL / HOLD ordres d'achat.","height":600,"width":520,"color":3},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[580,220],"id":"c400ebf0-be9d-48a5-82fa-b8aa42267c55","name":"Sticky Note5"},{"parameters":{"content":"","height":340,"width":1260,"color":5},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-220,1320],"id":"6c2a1721-f895-45a7-bc20-88ffb087cb94","name":"Sticky Note1"},{"parameters":{"assignments":{"assignments":[{"id":"52422ce7-3a5b-40ac-aa12-2cd0deeec55b","name":"indices","value":"[{\"ticker\": \"SPY\", \"ticker_type\": \"stock\"},   {     \"ticker\": \"AGG\",     \"ticker_type\": \"stock\"   },   {     \"ticker\": \"GLD\",     \"ticker_type\": \"stock\"   },   {     \"ticker\": \"UUP\",     \"ticker_type\": \"stock\"   },   {     \"ticker\": \"BTC\",     \"ticker_type\": \"digital_currency\"   }]","type":"array"}]},"options":{"ignoreConversionErrors":true}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[80,1400],"id":"0fc98b46-0dd2-41bd-8c94-953b8678df3b","name":"ArrayOfIndices"},{"parameters":{"fieldToSplitOut":"indices","options":{}},"type":"n8n-nodes-base.splitOut","typeVersion":1,"position":[300,1400],"id":"97e3d6a9-eea3-44f2-86d8-9b32f0c9bf03","name":"Split Out"}],"connections":{"ArrayOfIndices":{"main":[[{"node":"Split Out","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"b9fa75e6-8657-4c6b-b1e9-3b952fa6754f","triggerCount":1,"tags":[]}